--- 
jobs: 
  build: 
    docker:
      - image: circleci/spring-boot
    steps: 
      - checkout
      - setup_remote_docker
        docker_layer_caching: true
      - 
        run: 
          command: |
              docker login -u $DOCKER_USERNAME -p $DOCKER_PASSWORD
              docker build --no-cache -t $DOCKER_USERNAME/$CIRCLE_PROJECT_REPONAME .
              docker push $DOCKER_USERNAME/$CIRCLE_PROJECT_REPONAME
          name: "Build application Docker image"
version: 2
